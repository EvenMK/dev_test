<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Financial Dashboard</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <h1><i class="fas fa-chart-line"></i> Global Financial Dashboard</h1>
                <div class="header-controls">
                    <div class="market-status">
                        <div class="live-indicator">
                            <span class="live-dot"></span>
                            <span class="live-text">LIVE</span>
                        </div>
                        <div class="real-time-clock" id="real-time-clock">
                            <i class="fas fa-clock"></i>
                            <span id="current-time">--:--:--</span>
                        </div>
                    </div>
                    <button type="button" id="theme-toggle" class="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button type="button" id="fullscreen-toggle" class="fullscreen-toggle">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button type="button" id="logout-btn" class="logout-btn" title="Logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Controls Section -->
        <div class="controls-section">
            <div class="controls-grid">
                <div class="control-group">
                    <label for="index-select">Index</label>
                    <select id="index-select" class="select-control" aria-describedby="index-description">
                        <option value="^GSPC">S&amp;P 500 (1957)</option>
                        <option value="^IXIC">NASDAQ Composite (1971)</option>
                        <option value="^DJI">Dow Jones Industrial Average (1896)</option>
                        <option value="^RUT">Russell 2000 (1984)</option>
                        <option value="^VIX">VIX Volatility Index (1990)</option>
                    </select>
                    <div id="index-description" class="sr-only">Select the financial index to display performance data</div>
                </div>
                <div class="control-group">
                    <label for="currency-select">Currency</label>
                    <select id="currency-select" class="select-control">
                        <option value="USD">USD - US Dollar</option>
                        <option value="NOK">NOK - Norwegian Krone</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="timeframe-select">Timeframe</label>
                    <select id="timeframe-select" class="select-control">
                        <option value="1d">1 Day</option>
                        <option value="5d">5 Days</option>
                        <option value="1mo">1 Month</option>
                        <option value="3mo">3 Months</option>
                        <option value="6mo">6 Months</option>
                        <option value="1y" selected>1 Year</option>
                        <option value="2y">2 Years</option>
                        <option value="5y">5 Years</option>
                        <option value="max">Max</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Main Chart Section -->
        <div class="chart-section">
            <div class="chart-header">
                <h3 id="chart-title">S&amp;P 500 Performance</h3>
                <div class="data-info">
                    <span id="last-updated">Last updated: --</span>
                    <span id="data-source">Source: Yahoo Finance</span>
                </div>
            </div>
            <div class="chart-container">
                <div id="mainChart" role="img" aria-label="Financial performance chart showing index data with currency impact analysis"></div>
                <div id="chart-loading" class="loading-overlay" aria-live="polite">
                    <div class="loading-spinner" aria-hidden="true"></div>
                    <p>Loading financial data...</p>
                </div>
            </div>
        </div>

        <!-- Exchange Rate Chart Section -->
        <div class="chart-section">
            <div class="chart-header">
                <h3 id="exchange-chart-title">USD/NOK Exchange Rate</h3>
                <div class="data-info">
                    <span id="exchange-last-updated">Last updated: --</span>
                    <span id="exchange-data-source">Source: Norges Bank</span>
                </div>
            </div>
            <div class="chart-container">
                <div id="exchangeChart" role="img" aria-label="USD to NOK exchange rate chart showing historical rates"></div>
                <div id="exchange-chart-loading" class="loading-overlay" aria-live="polite">
                    <div class="loading-spinner" aria-hidden="true"></div>
                    <p>Loading exchange rate data...</p>
                </div>
            </div>
        </div>

        <!-- Statistics Section -->
        <div class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <i class="fas fa-dollar-sign"></i>
                        <span>Current Price</span>
                    </div>
                    <div class="stat-value dual-currency" id="current-price">--</div>
                    <div class="stat-change" id="price-change">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <i class="fas fa-percentage"></i>
                        <span>Total Return</span>
                    </div>
                    <div class="stat-value dual-currency" id="total-return">--</div>
                    <div class="stat-change dual-currency" id="return-change">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Currency Impact</span>
                    </div>
                    <div class="stat-value dual-currency" id="currency-impact">--</div>
                    <div class="stat-change dual-currency" id="currency-change">--</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <i class="fas fa-chart-bar"></i>
                        <span>Volatility</span>
                    </div>
                    <div class="stat-value" id="volatility">--</div>
                    <div class="stat-change" id="volatility-change">--</div>
                </div>
            </div>
        </div>

        <!-- Additional Features Section -->
        <div class="features-section">
            <div class="features-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-table"></i> Performance Table</h3>
                    <div class="table-container">
                        <table id="performance-table" summary="Performance data table">
                            <thead>
                                <tr>
                                    <th scope="col">Period</th>
                                    <th scope="col">Return</th>
                                    <th scope="col">Currency Impact</th>
                                    <th scope="col">Local Return</th>
                                </tr>
                            </thead>
                            <tbody id="performance-tbody">
                                <!-- Data will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="feature-card">
                    <h3><i class="fas fa-globe"></i> Market Overview</h3>
                    <div class="market-overview" id="market-overview">
                        <!-- Market data will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Data Sources &amp; APIs</h4>
                    <ul>
                        <li><strong>Financial Data:</strong> Yahoo Finance API (free tier)</li>
                        <li><strong>Currency Rates:</strong> Frankfurter API (free tier)</li>
                        <li><strong>Alternative Data:</strong> Alpha Vantage API (free tier)</li>
                        <li><strong>Charts:</strong> Chart.js (MIT License)</li>
                        <li><strong>Icons:</strong> Font Awesome (Free License)</li>
                        <li><strong>Fonts:</strong> Google Fonts (Inter)</li>
                        <li><strong>CORS Proxy:</strong> api.allorigins.win (free service)</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Legal &amp; Disclaimers</h4>
                    <ul>
                        <li>Data is for informational purposes only</li>
                        <li>Not financial advice - consult professionals</li>
                        <li>Data accuracy not guaranteed</li>
                        <li>Rates subject to change</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Attribution &amp; Credits</h4>
                    <p>© 2024 Global Financial Dashboard</p>
                    <p><strong>Data Providers:</strong></p>
                    <ul>
                                        <li><strong>Yahoo Finance API:</strong> <a href="https://finance.yahoo.com/" target="_blank">finance.yahoo.com</a> (Free tier, no API key required)</li>
                <li><strong>Norges Bank API:</strong> <a href="https://data.norges-bank.no/" target="_blank">data.norges-bank.no</a> (Official Norwegian Central Bank, free)</li>
                <li><strong>Frankfurter API:</strong> <a href="https://frankfurter.app/" target="_blank">frankfurter.app</a> (Free tier, no API key required)</li>
                    </ul>
                    <p><strong>Services:</strong></p>
                    <ul>
                        <li><strong>CORS Proxy:</strong> <a href="https://api.allorigins.win/" target="_blank">api.allorigins.win</a> (Free service)</li>
                    </ul>
                    <p><strong>Libraries:</strong></p>
                    <ul>
                        <li><strong>Chart.js:</strong> <a href="https://www.chartjs.org/" target="_blank">chartjs.org</a> (MIT License)</li>
                        <li><strong>Font Awesome:</strong> <a href="https://fontawesome.com/" target="_blank">fontawesome.com</a> (Free License)</li>
                        <li><strong>Google Fonts:</strong> <a href="https://fonts.google.com/" target="_blank">fonts.google.com</a> (Apache 2.0 License)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="script.js"></script>
</body>
</html>
